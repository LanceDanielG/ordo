<div class="input-card glass h-animate">
    <div class="input-wrapper">
        <input 
            type="text" 
            [(ngModel)]="newTodoText" 
            (keyup.enter)="addTodo()"
            placeholder="What needs to be done?"
            class="main-input"
        />
        
        <div class="input-actions">
            <!-- Project Selection -->
            <select [(ngModel)]="selectedProjectId" (change)="projectStore.selectProject($any($event.target).value)" class="glass-select">
                <option [value]="null">No Project</option>
                <option *ngFor="let project of projectStore.projects()" [value]="project.id">
                    {{ project.name }}
                </option>
            </select>

            <!-- Assignee Selection -->
            <select [(ngModel)]="selectedAssigneeId" class="glass-select">
                <option [value]="null">Unassigned</option>
                <option *ngFor="let member of projectStore.currentMembers()" [value]="member.user_id">
                    Assign: {{ member.profiles.full_name || member.profiles.email }}
                </option>
            </select>

            <!-- Priority -->
            <select [(ngModel)]="selectedPriority" class="glass-select" [ngClass]="selectedPriority">
                <option value="low">Low</option>
                <option value="medium">Medium</option>
                <option value="high">High</option>
            </select>

            <button class="add-btn" (click)="addTodo()" [disabled]="!newTodoText.trim()">
                <span class="material-icons">add</span>
            </button>
        </div>
    </div>
</div>
